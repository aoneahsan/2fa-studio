<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2FA Studio - Settings</title>
  <link rel="stylesheet" href="settings-enhanced.css">
</head>
<body>
  <div class="settings-container">
    <header class="settings-header">
      <h1>2FA Studio Settings</h1>
      <button id="closeBtn" class="close-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      </button>
    </header>

    <nav class="settings-nav">
      <button class="nav-item active" data-section="security">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"></path>
        </svg>
        Security
      </button>
      <button class="nav-item" data-section="sync">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M23 4v6h-6M1 20v-6h6"></path>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
        </svg>
        Sync
      </button>
      <button class="nav-item" data-section="mobile">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
          <line x1="12" y1="18" x2="12" y2="18"></line>
        </svg>
        Mobile
      </button>
      <button class="nav-item" data-section="notifications">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
          <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
        </svg>
        Notifications
      </button>
      <button class="nav-item" data-section="general">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <circle cx="12" cy="12" r="3"></circle>
          <path d="M12 1v6m0 6v6m11-11h-6m-6 0H1"></path>
        </svg>
        General
      </button>
    </nav>

    <main class="settings-content">
      <!-- Security Section -->
      <section id="security-section" class="settings-section active">
        <h2>Security Settings</h2>

        <div class="setting-group">
          <h3>Extension PIN Lock</h3>
          <div class="setting-item">
            <div class="setting-info">
              <label for="pinEnabled">Enable PIN Lock</label>
              <p class="setting-description">Require a PIN to access your 2FA codes</p>
            </div>
            <input type="checkbox" id="pinEnabled" class="toggle-switch">
          </div>

          <div id="pinSettings" class="pin-settings hidden">
            <div class="setting-item">
              <button id="setPinBtn" class="btn btn-primary">Set PIN</button>
              <button id="changePinBtn" class="btn btn-secondary hidden">Change PIN</button>
            </div>
          </div>
        </div>

        <div class="setting-group">
          <h3>Auto-Lock</h3>
          <div class="setting-item">
            <div class="setting-info">
              <label for="autoLockEnabled">Enable Auto-Lock</label>
              <p class="setting-description">Automatically lock the extension after inactivity</p>
            </div>
            <input type="checkbox" id="autoLockEnabled" class="toggle-switch">
          </div>

          <div id="autoLockSettings" class="auto-lock-settings hidden">
            <div class="setting-item">
              <label for="autoLockTimeout">Lock after</label>
              <select id="autoLockTimeout" class="select-input">
                <option value="1">1 minute</option>
                <option value="5" selected>5 minutes</option>
                <option value="10">10 minutes</option>
                <option value="15">15 minutes</option>
                <option value="30">30 minutes</option>
                <option value="60">1 hour</option>
              </select>
            </div>
          </div>
        </div>

        <div class="setting-group">
          <h3>Phishing Protection</h3>
          <div class="setting-item">
            <div class="setting-info">
              <label for="phishingProtection">Enable Phishing Protection</label>
              <p class="setting-description">Warn about suspicious websites</p>
            </div>
            <input type="checkbox" id="phishingProtection" class="toggle-switch" checked>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label for="domainVerification">Enable Domain Verification</label>
              <p class="setting-description">Verify SSL certificates and domain trust</p>
            </div>
            <input type="checkbox" id="domainVerification" class="toggle-switch" checked>
          </div>
        </div>
      </section>

      <!-- Sync Section -->
      <section id="sync-section" class="settings-section">
        <h2>Browser Sync</h2>

        <div class="setting-group">
          <div class="setting-item">
            <div class="setting-info">
              <label for="syncEnabled">Enable Browser Sync</label>
              <p class="setting-description">Sync settings across all your Chrome browsers</p>
            </div>
            <input type="checkbox" id="syncEnabled" class="toggle-switch">
          </div>

          <div id="syncStatus" class="sync-status hidden">
            <div class="status-badge success">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="20 6 9 17 4 12"></polyline>
              </svg>
              Synced
            </div>
            <p class="sync-info">Last synced: <span id="lastSyncTime">Never</span></p>
          </div>

          <div class="setting-item">
            <button id="syncNowBtn" class="btn btn-secondary" disabled>Sync Now</button>
            <button id="exportSyncBtn" class="btn btn-secondary">Export Settings</button>
            <button id="importSyncBtn" class="btn btn-secondary">Import Settings</button>
          </div>
        </div>

        <div class="setting-group">
          <h3>Sync Options</h3>
          <div class="setting-item">
            <label>Conflict Resolution</label>
            <select id="conflictResolution" class="select-input">
              <option value="latest">Use latest changes</option>
              <option value="local">Keep local settings</option>
              <option value="remote">Use synced settings</option>
            </select>
          </div>
        </div>
      </section>

      <!-- Mobile Section -->
      <section id="mobile-section" class="settings-section">
        <h2>Mobile Connection</h2>

        <div id="mobilePairing" class="setting-group">
          <div class="mobile-status">
            <div id="notPaired" class="pairing-status">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <line x1="12" y1="18" x2="12" y2="18"></line>
              </svg>
              <h3>Not Connected</h3>
              <p>Connect your mobile app for seamless 2FA sync</p>
              <button id="pairMobileBtn" class="btn btn-primary">Pair Mobile App</button>
            </div>

            <div id="paired" class="pairing-status hidden">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="success">
                <rect x="5" y="2" width="14" height="20" rx="2" ry="2"></rect>
                <polyline points="9 11 12 14 16 10"></polyline>
              </svg>
              <h3>Connected</h3>
              <p>Device ID: <span id="deviceId"></span></p>
              <p>Paired: <span id="pairedDate"></span></p>
              <button id="unpairBtn" class="btn btn-danger">Unpair Device</button>
            </div>
          </div>
        </div>

        <div id="pairingModal" class="modal hidden">
          <div class="modal-content">
            <h3>Pair with Mobile App</h3>
            <p>Open 2FA Studio on your mobile device and scan this QR code:</p>
            <div id="pairingQR" class="qr-container">
              <!-- QR code will be generated here -->
            </div>
            <p class="pairing-code">Or enter code: <strong id="pairingCode"></strong></p>
            <button id="closePairingBtn" class="btn btn-secondary">Cancel</button>
          </div>
        </div>
      </section>

      <!-- Notifications Section -->
      <section id="notifications-section" class="settings-section">
        <h2>Notifications & Badge</h2>

        <div class="setting-group">
          <h3>Notifications</h3>
          <div class="setting-item">
            <div class="setting-info">
              <label for="showNotifications">Show Notifications</label>
              <p class="setting-description">Display system notifications for actions</p>
            </div>
            <input type="checkbox" id="showNotifications" class="toggle-switch" checked>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label for="notifyCodeCopy">Notify on Code Copy</label>
              <p class="setting-description">Show notification when 2FA code is copied</p>
            </div>
            <input type="checkbox" id="notifyCodeCopy" class="toggle-switch" checked>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label for="notifyAutoFill">Notify on Auto-Fill</label>
              <p class="setting-description">Show notification when code is auto-filled</p>
            </div>
            <input type="checkbox" id="notifyAutoFill" class="toggle-switch" checked>
          </div>
        </div>

        <div class="setting-group">
          <h3>Badge Settings</h3>
          <div class="setting-item">
            <div class="setting-info">
              <label for="showAccountCount">Show Account Count</label>
              <p class="setting-description">Display number of accounts in extension badge</p>
            </div>
            <input type="checkbox" id="showAccountCount" class="toggle-switch">
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label for="showPendingRequests">Show Pending Requests</label>
              <p class="setting-description">Highlight when 2FA is needed</p>
            </div>
            <input type="checkbox" id="showPendingRequests" class="toggle-switch" checked>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label for="showSecurityAlerts">Show Security Alerts</label>
              <p class="setting-description">Display badge for security warnings</p>
            </div>
            <input type="checkbox" id="showSecurityAlerts" class="toggle-switch" checked>
          </div>
        </div>
      </section>

      <!-- General Section -->
      <section id="general-section" class="settings-section">
        <h2>General Settings</h2>

        <div class="setting-group">
          <h3>Appearance</h3>
          <div class="setting-item">
            <label for="theme">Theme</label>
            <select id="theme" class="select-input">
              <option value="auto">Auto (System)</option>
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </div>
        </div>

        <div class="setting-group">
          <h3>Behavior</h3>
          <div class="setting-item">
            <div class="setting-info">
              <label for="autoFillEnabled">Enable Auto-Fill</label>
              <p class="setting-description">Automatically fill 2FA codes when detected</p>
            </div>
            <input type="checkbox" id="autoFillEnabled" class="toggle-switch" checked>
          </div>

          <div class="setting-item">
            <div class="setting-info">
              <label for="quickFillEnabled">Enable Quick Fill</label>
              <p class="setting-description">Fill codes with keyboard shortcut</p>
            </div>
            <input type="checkbox" id="quickFillEnabled" class="toggle-switch" checked>
          </div>

          <div class="setting-item">
            <label for="defaultTimeout">Default Code Timeout</label>
            <select id="defaultTimeout" class="select-input">
              <option value="30">30 seconds</option>
              <option value="60">60 seconds</option>
              <option value="90">90 seconds</option>
            </select>
          </div>
        </div>

        <div class="setting-group">
          <h3>Data</h3>
          <div class="setting-item">
            <button id="exportDataBtn" class="btn btn-secondary">Export All Data</button>
            <button id="importDataBtn" class="btn btn-secondary">Import Data</button>
            <button id="clearDataBtn" class="btn btn-danger">Clear All Data</button>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="settings-enhanced.js" type="module"></script>
</body>
</html>